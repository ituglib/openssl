#### Nonstop configurations
    "nonstop-common" => {
        inherit_from     => [ "BASE_unix" ],
        template         => 1,
        cc               => "c99",
        cxx              => "cc",
#        cflags           => add_before(picker(debug   => "-g",
#                                              release => "") ,"-Wextensions -Wnowarn=203,220,272,770,1506 -Wsystype=oss -Wbuild_neutral_library"),
        cflags           => add_before(picker(debug   => "-g",
                                              release => "") ,"-Wextensions -Wnowarn=203,220,272,770,1506 -Wbuild_neutral_library"),
#       	cxxflags       	 => "$(cflags) -Wcplusplus -Wversion3",
        perl             => "/usr/bin/perl",
        lflags           => "-lrld",
        shared_target    => "self",
        shared_cflag     => "",
        shared_ldflag    => "-Wshared -lrld",
        shared_extension => ".so",
        enable           => ["egd"],
        dso_scheme       => "DLFCN",
    },
    "nonstop-nsx" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose") },
        ldflag           => sub { join(" ",@_,"") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float' -Wsystype=oss") },
        defines          => ["_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm", "threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose") },
        ldflag           => sub { join(" ",@_,"-lput") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float' -lput -Wsystype=oss") },
        defines          => ["_REENTRANT", "_PUT_MODEL_","_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_64" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        ldflag           => sub { join(" ",@_,"-Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float' -Wlp64 -Wsystype=oss") },
        defines          => ["_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm", "threads"],
        bn_ops           => "SIXTY_FOUR_BIT",
    },
    "nonstop-nsx_64_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose") },
        ldflag           => sub { join(" ",@_,"-lput -Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float' -Wlp64 -lput -Wsystype=oss") },
        defines          => ["_REENTRANT", "_PUT_MODEL_","_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "SIXTY_FOUR_BIT",
    },
    "nonstop-nsx_spt" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose") },
        ldflag           => sub { join(" ",@_,"-lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsx_g" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose") },
        lflags           => sub { join(" ",@_,"-Wsystype=guardian") },
        shared_ldflag    => sub { join(" ",@_,"-Wxld='-export_all -set floattype neutral_float -soname \$\(\@:lib%.so=%\)' -Wsystype=guardian") },
        #shared_extension => " ",
        defines          => ["_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["asm", "threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nsv" => {
        inherit_from     => [ "nonstop-nsx" ],
    },
    "nonstop-nse" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        ldflag           => sub { join(" ",@_,"") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float' -Wsystype=oss") },
        defines          => ["_TANDEM_ARCH=2","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm", "threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        ldflag           => sub { join(" ",@_,"-lput") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float' -lput -Wsystype=oss") },
        defines          => ["_REENTRANT", "_PUT_MODEL_","_TANDEM_ARCH=3","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_64" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        ldflag           => sub { join(" ",@_,"-Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float' -Wlp64 -Wsystype=oss") },
        defines          => ["_TANDEM_ARCH=2","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm", "threads"],
        bn_ops           => "SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR",
    },
    "nonstop-nse_64_put" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wlp64 -Wverbose -Wtarget=tns/e") },
        ldflag           => sub { join(" ",@_,"-lput -Wlp64") },
        shared_ldflag    => sub { join(" ",@_,"-Weld='-export_all -set floattype neutral_float' -Wlp64 -lput -Wsystype=oss") },
        defines          => ["_REENTRANT", "_PUT_MODEL_","_TANDEM_ARCH=2","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","_ENABLE_FLOSS_THREADS","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "SIXTY_FOUR_BIT_LONG RC4_CHAR RC4_CHUNK DES_INT DES_UNROLL BF_PTR",
    },
    "nonstop-nse_spt" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        ldflag           => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -lspt -Wextensions") },
        shared_ldflag    => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -Weld='-export_all -set floattype neutral_float' -lspt -Wextensions -Wsystype=oss") },
        defines          => ["_REENTRANT", "_SPT_MODEL_","_THREAD_SUPPORT_FUNCTIONS","_TANDEM_ARCH=2","_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1","__TANDEM", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM"],
        disable          => ["asm"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
    "nonstop-nse_g" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -Wsystype=guardian -Weld='-set systype guardian'") },
        shared_ldflag    => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -Weld='-set systype guardian -export_all -set floattype neutral_float -soname \$\(\@:lib%.so=%\)' -Wsystype=guardian") },
        #shared_extension => " ",
        defines          => ["_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["asm", "threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },

    "nonstop-nse_g_tandem" => {
        inherit_from     => [ "nonstop-common" ],
        cflags           => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        shared_cflag     => sub { join(" ",@_,"-Wverbose -Wtarget=tns/e") },
        lflags           => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -Wsystype=guardian -Weld='-set systype guardian -set floattype tandem_float'") },
        shared_ldflag    => sub { join(" ",@_,"-L/E/cs3/usr/local/lib -Wsystype=guardian -Weld='-set systype guardian -export_all -set floattype tandem_float -soname \$\(\@:lib%.so=%\)'") },
        #shared_extension => " ",
        defines          => ["_XOPEN_SOURCE","_XOPEN_SOURCE_EXTENDED=1", "_TANDEM_SOURCE", "B_ENDIAN", "OPENSSL_SYSNAME_TANDEM", "NO_GETPID"],
        disable          => ["asm", "threads"],
        bn_ops           => "THIRTY_TWO_BIT",
    },
